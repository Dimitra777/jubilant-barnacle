/* ===== АДАПТИВНЫЕ СТИЛИ ===== */

/* Базовые брейкпоинты */
/* xs: 0px - 575px (мобильные) */
/* sm: 576px - 767px (большие мобильные) */
/* md: 768px - 991px (планшеты) */
/* lg: 992px - 1199px (десктопы) */
/* xl: 1200px+ (большие десктопы) */

/* ===== ОБЩИЕ АДАПТИВНЫЕ УТИЛИТЫ ===== */
.container {
    padding: 0 1rem;
}

@media (min-width: 576px) {
    .container {
        padding: 0 1.5rem;
    }
}

@media (min-width: 768px) {
    .container {
        padding: 0 2rem;
    }
}

@media (min-width: 992px) {
    .container {
        padding: 0 2rem;
    }
}

/* ===== ТИПОГРАФИКА ===== */
@media (max-width: 767px) {
    h1 { font-size: 2rem; }
    h2 { font-size: 1.75rem; }
    h3 { font-size: 1.5rem; }
    h4 { font-size: 1.25rem; }
}

@media (max-width: 575px) {
    h1 { font-size: 1.75rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.25rem; }
}

/* ===== НАВИГАЦИЯ ===== */
@media (max-width: 991px) {
    .nav-menu {
        position: fixed;
        top: 0;
        left: -100%;
        width: 280px;
        height: 100vh;
        background: white;
        box-shadow: var(--shadow-xl);
        transition: var(--transition);
        z-index: 2000;
        flex-direction: column;
        justify-content: flex-start;
        padding: 6rem 2rem 2rem;
    }

    .nav-menu.active {
        left: 0;
    }

    .nav-list {
        flex-direction: column;
        gap: 0;
        width: 100%;
    }

    .nav-list li {
        width: 100%;
    }

    .nav-link {
        display: block;
        padding: 1rem 0;
        border-bottom: 1px solid var(--gray-200);
        width: 100%;
    }

    .dropdown-menu {
        position: static;
        opacity: 1;
        visibility: visible;
        transform: none;
        box-shadow: none;
        border: none;
        background: var(--gray-50);
        margin-top: 0.5rem;
        border-radius: var(--border-radius);
    }

    .dropdown:hover .dropdown-menu {
        transform: none;
    }

    .nav-toggle {
        display: flex;
        z-index: 2001;
    }

    .nav-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translateY(7px);
    }

    .nav-toggle.active span:nth-child(2) {
        opacity: 0;
    }

    .nav-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translateY(-7px);
    }

    .nav-actions {
        position: fixed;
        top: 6rem;
        right: 2rem;
        z-index: 1999;
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: 1rem;
        transform: translateX(300px);
        transition: var(--transition);
        flex-direction: column;
        gap: 1rem;
    }

    .nav-menu.active + .nav-actions {
        transform: translateX(0);
    }

    .search-box {
        width: 100%;
    }

    .search-box input {
        min-width: auto;
        width: 100%;
    }
}

@media (max-width: 767px) {
    .header {
        padding: 0.5rem 0;
    }

    .navbar .container {
        flex-wrap: wrap;
        gap: 1rem;
    }

    .nav-actions {
        position: static;
        transform: none;
        background: none;
        box-shadow: none;
        padding: 0;
        order: 3;
        width: 100%;
        margin-top: 1rem;
    }

    .nav-menu.active + .nav-actions {
        transform: none;
    }

    .search-box {
        flex: 1;
    }
}

@media (max-width: 575px) {
    .nav-brand .logo {
        font-size: 1.25rem;
    }

    .nav-menu {
        width: 100%;
        left: -100%;
        padding: 5rem 1rem 2rem;
    }

    .nav-actions {
        margin-top: 0.5rem;
        padding: 1rem 0 0;
        border-top: 1px solid var(--gray-200);
    }

    .auth-btn {
        width: 100%;
        justify-content: center;
    }
}

/* ===== ОСНОВНОЙ КОНТЕНТ ===== */
@media (max-width: 767px) {
    .main {
        margin-top: 140px; /* Увеличиваем из-за переноса элементов */
    }
}

@media (max-width: 575px) {
    .main {
        margin-top: 120px;
    }
}

/* ===== ГЕРОЙ СЕКЦИЯ ===== */
@media (max-width: 991px) {
    .hero-content {
        padding: 2rem 1.5rem;
    }
}

@media (max-width: 767px) {
    .hero-content {
        padding: 1.5rem 1rem;
    }

    .section-title {
        font-size: 1.5rem;
    }

    .page-title {
        font-size: 2rem;
        margin-bottom: 2rem;
    }
}

@media (max-width: 575px) {
    .hero-content {
        padding: 1rem;
    }

    .section-title {
        font-size: 1.25rem;
    }

    .page-title {
        font-size: 1.75rem;
    }
}

/* ===== ФИЛЬТРЫ И УПРАВЛЕНИЕ ===== */
@media (max-width: 991px) {
    .controls-bar {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }

    .filters {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .view-toggle {
        align-self: center;
    }
}

@media (max-width: 767px) {
    .filters select {
        flex: 1;
        min-width: 0;
    }

    .controls-bar {
        padding: 1rem 0.5rem;
    }
}

@media (max-width: 575px) {
    .filters {
        flex-direction: column;
        gap: 0.5rem;
    }

    .filters select {
        width: 100%;
    }
}

/* ===== СЕТКА СТАТЕЙ ===== */
@media (max-width: 991px) {
    .articles-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
    }
}

@media (max-width: 767px) {
    .articles-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    .article-image {
        height: 180px;
    }

    .article-content {
        padding: 1rem;
    }

    .article-title {
        font-size: 1.125rem;
    }

    .article-meta {
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
    }
}

@media (max-width: 575px) {
    .article-image {
        height: 160px;
    }

    .article-content {
        padding: 0.75rem;
    }

    .article-title {
        font-size: 1rem;
        line-height: 1.3;
    }

    .article-lead {
        font-size: 0.8rem;
    }

    .article-stats {
        gap: 0.75rem;
    }
}

/* ===== СПИСОК СТАТЕЙ ===== */
@media (max-width: 767px) {
    .articles-grid.list-view .article-card {
        display: flex;
        flex-direction: column;
    }

    .articles-grid.list-view .article-image {
        order: -1;
        height: 140px;
    }
}

@media (max-width: 575px) {
    .articles-grid.list-view .article-image {
        height: 120px;
    }
}

/* ===== АВТОРЫ ===== */
@media (max-width: 991px) {
    .authors-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 767px) {
    .authors-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    .author-card {
        padding: 1.5rem 1rem;
    }

    .author-stats {
        gap: 1.5rem;
    }
}

@media (max-width: 575px) {
    .author-card {
        padding: 1rem;
    }

    .author-card .author-avatar {
        width: 60px;
        height: 60px;
        font-size: 1.25rem;
    }

    .author-stats {
        gap: 1rem;
    }
}

/* ===== О НАС ===== */
@media (max-width: 991px) {
    .about-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    .about-stats {
        order: -1;
    }
}

@media (max-width: 767px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }

    .about-stats {
        padding: 1.5rem;
    }
}

@media (max-width: 575px) {
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }

    .stat-number {
        font-size: 1.5rem;
    }

    .about-stats {
        padding: 1rem;
    }
}

/* ===== FOOTER ===== */
@media (max-width: 991px) {
    .footer-content {
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
    }
}

@media (max-width: 767px) {
    .footer-content {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .footer {
        padding: 2rem 0 1rem;
    }
}

@media (max-width: 575px) {
    .footer {
        padding: 1.5rem 0 0.5rem;
    }

    .subscribe-form {
        flex-direction: column;
        gap: 0.5rem;
    }

    .subscribe-form input {
        border-radius: var(--border-radius);
    }

    .subscribe-form button {
        border-radius: var(--border-radius);
    }

    .social-links {
        justify-content: center;
    }
}

/* ===== МОДАЛЬНЫЕ ОКНА ===== */
@media (max-width: 767px) {
    .modal {
        padding: 0.5rem;
    }

    .modal-content {
        max-width: 95vw;
        max-height: 95vh;
    }

    .article-modal-content {
        width: 95vw;
    }

    .modal-header {
        padding: 1rem;
    }

    .modal-body {
        padding: 1rem;
    }
}

@media (max-width: 575px) {
    .modal {
        padding: 0;
    }

    .modal-content {
        max-width: 100vw;
        max-height: 100vh;
        border-radius: 0;
    }

    .article-modal-content {
        width: 100vw;
    }
}

/* ===== ФОРМЫ ===== */
@media (max-width: 767px) {
    .form-row {
        grid-template-columns: 1fr;
        gap: 0;
    }

    .form-group {
        margin-bottom: 1rem;
    }
}

@media (max-width: 575px) {
    .form-control {
        padding: 0.625rem 0.875rem;
        font-size: 0.875rem;
    }

    .input-group .form-control {
        padding-left: 2.5rem;
    }

    .input-icon {
        left: 0.875rem;
    }
}

/* ===== КНОПКИ ===== */
@media (max-width: 575px) {
    .btn {
        padding: 0.625rem 1.25rem;
        font-size: 0.875rem;
    }

    .btn-sm {
        padding: 0.375rem 0.875rem;
        font-size: 0.75rem;
    }

    .btn-lg {
        padding: 0.875rem 1.75rem;
        font-size: 0.875rem;
    }
}

/* ===== УВЕДОМЛЕНИЯ ===== */
@media (max-width: 767px) {
    .toast-container {
        top: 1rem;
        right: 1rem;
        left: 1rem;
        max-width: none;
    }

    .toast {
        margin-bottom: 0.5rem;
        padding: 0.875rem 1rem;
    }
}

@media (max-width: 575px) {
    .toast-container {
        top: 0.5rem;
        right: 0.5rem;
        left: 0.5rem;
    }

    .toast {
        padding: 0.75rem;
        font-size: 0.875rem;
    }

    .toast-title {
        font-size: 0.875rem;
    }

    .toast-message {
        font-size: 0.75rem;
    }
}

/* ===== АВТОРИЗАЦИЯ ===== */
@media (max-width: 767px) {
    .auth-container {
        max-width: 400px;
        margin: 1rem;
    }

    .auth-content {
        padding: 1.5rem;
    }

    .auth-form {
        padding: 1.5rem;
    }
}

@media (max-width: 575px) {
    .auth-container {
        max-width: none;
        margin: 0.5rem;
    }

    .auth-content {
        padding: 1rem;
    }

    .auth-form {
        padding: 1rem;
    }

    .auth-tabs {
        margin-bottom: 1.5rem;
    }

    .auth-tab {
        padding: 0.625rem 0.75rem;
        font-size: 0.875rem;
    }

    .demo-user-buttons {
        gap: 0.375rem;
    }

    .demo-user-btn {
        padding: 0.375rem 0.75rem;
        font-size: 0.6875rem;
    }
}

/* ===== ПОИСК ===== */
@media (max-width: 991px) {
    .search-box input {
        min-width: 200px;
    }
}

@media (max-width: 767px) {
    .search-box {
        width: 100%;
    }

    .search-box input {
        min-width: auto;
        width: 100%;
    }
}

/* ===== УТИЛИТЫ ДЛЯ СКРЫТИЯ ЭЛЕМЕНТОВ ===== */
.hidden-xs { display: none !important; }

@media (min-width: 576px) {
    .hidden-xs { display: block !important; }
    .hidden-sm { display: none !important; }
}

@media (min-width: 768px) {
    .hidden-sm { display: block !important; }
    .hidden-md { display: none !important; }
}

@media (min-width: 992px) {
    .hidden-md { display: block !important; }
    .hidden-lg { display: none !important; }
}

@media (min-width: 1200px) {
    .hidden-lg { display: block !important; }
}

/* Показать только на определенных размерах */
.show-xs { display: block !important; }

@media (min-width: 576px) {
    .show-xs { display: none !important; }
}

.show-sm { display: none !important; }

@media (min-width: 576px) and (max-width: 767px) {
    .show-sm { display: block !important; }
}

.show-md { display: none !important; }

@media (min-width: 768px) and (max-width: 991px) {
    .show-md { display: block !important; }
}

.show-lg { display: none !important; }

@media (min-width: 992px) and (max-width: 1199px) {
    .show-lg { display: block !important; }
}

.show-xl { display: none !important; }

@media (min-width: 1200px) {
    .show-xl { display: block !important; }
}

/* ===== СПЕЦИАЛЬНЫЕ АДАПТИВНЫЕ КЛАССЫ ===== */
.mobile-only {
    display: block;
}

@media (min-width: 768px) {
    .mobile-only {
        display: none !important;
    }
}

.desktop-only {
    display: none;
}

@media (min-width: 768px) {
    .desktop-only {
        display: block !important;
    }
}

/* ===== АДАПТИВНЫЙ ТЕКСТ ===== */
@media (max-width: 767px) {
    .responsive-text {
        font-size: 0.875rem;
    }
}

@media (max-width: 575px) {
    .responsive-text {
        font-size: 0.8rem;
    }
}

/* ===== АДАПТИВНЫЕ ОТСТУПЫ ===== */
@media (max-width: 767px) {
    .section-padding {
        padding: 2rem 0;
    }
}

@media (max-width: 575px) {
    .section-padding {
        padding: 1.5rem 0;
    }
}

/* ===== ОПТИМИЗАЦИЯ ДЛЯ СЕНСОРНЫХ УСТРОЙСТВ ===== */
@media (hover: none) and (pointer: coarse) {
    /* Увеличиваем области касания для мобильных */
    .btn {
        min-height: 44px;
        min-width: 44px;
    }

    .nav-link {
        min-height: 44px;
        display: flex;
        align-items: center;
    }

    .form-control {
        min-height: 44px;
    }

    .table-action {
        min-width: 44px;
        min-height: 44px;
    }

    /* Убираем hover эффекты */
    .article-card:hover {
        transform: none;
        box-shadow: var(--shadow);
    }

    .btn:hover {
        transform: none;
    }

    .author-card:hover {
        transform: none;
        box-shadow: var(--shadow);
    }

    /* Увеличиваем области касания для dropdown */
    .dropdown-menu a {
        min-height: 44px;
        display: flex;
        align-items: center;
    }
}

/* ===== ВЫСОКИЕ РАЗРЕШЕНИЯ (RETINA) ===== */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Оптимизация для высоких разрешений */
    .logo {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Более четкие тени */
    .card, .modal-content, .article-card {
        box-shadow: 
            0 1px 3px rgba(0, 0, 0, 0.12), 
            0 1px 2px rgba(0, 0, 0, 0.24);
    }
}

/* ===== ПРИНТ СТИЛИ ===== */
@media print {
    .header, .footer, .nav-toggle, .auth-btn, .controls-bar, .btn {
        display: none !important;
    }

    .main {
        margin-top: 0 !important;
    }

    .article-card {
        box-shadow: none;
        border: 1px solid var(--gray-300);
        margin-bottom: 1rem;
        break-inside: avoid;
    }

    .article-content {
        color: black;
    }

    body {
        background: white;
        color: black;
    }

    .hero-content {
        background: white;
        color: black;
        border: 1px solid var(--gray-300);
    }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ===== ОРИЕНТАЦИЯ ===== */
@media (orientation: landscape) and (max-height: 500px) {
    .auth-container {
        max-height: 90vh;
        overflow-y: auto;
    }

    .auth-form {
        padding: 1rem;
    }

    .modal-content {
        max-height: 85vh;
    }
}

/* ===== СТАРЫЕ БРАУЗЕРЫ ===== */
@supports not (display: grid) {
    .articles-grid {
        display: flex;
        flex-wrap: wrap;
        margin: -1rem;
    }

    .article-card {
        flex: 0 1 calc(33.333% - 2rem);
        margin: 1rem;
    }

    @media (max-width: 991px) {
        .article-card {
            flex: 0 1 calc(50% - 2rem);
        }
    }

    @media (max-width: 767px) {
        .article-card {
            flex: 0 1 calc(100% - 2rem);
        }
    }
}

@supports not (backdrop-filter: blur(10px)) {
    .header {
        background: rgba(255, 255, 255, 0.98);
    }

    .auth-background {
        background: rgba(255, 255, 255, 0.2);
    }
}